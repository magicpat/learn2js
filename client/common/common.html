<template name="mainlayout">
    {{> navigation}} 
    <div class="container">
        {{> yield}}
    </div>
</template>

<template name="sidebarlayout">
    <div id="wrapper">
       <div id="sidebar-wrapper">
           {{> yield region='sidebar'}} 
       </div> 
       <div id="page-content-wrapper">
            {{> yield}}
       </div>
    </div>
    {{> navigation}}
</template>

<template name="navigation">
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Learn2JS</a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    {{#if isInRole 'student' 'teacher'}}
                        <li class="{{isRouteActive '/dashboard'}}">
                            <a href="{{pathFor 'dashboard'}}">
                                <i class="fa fa-dashboard fa-fw"></i> Dashboard
                            </a>
                        </li>
                        
                        <li class="{{isRouteActive '/ranking'}}">
                            <a href="{{pathFor 'ranking'}}">
                                <i class="fa fa-star-o fa-fw"></i> Ranking
                            </a>
                        </li>

                        <li class="{{isRouteActive '/courses'}}">
                            <a href="{{pathFor 'courses'}}">
                                <i class="fa fa-flask fa-fw"></i> Courses
                            </a>
                        </li>
                    {{/if}}
                    {{#if isInRole 'admin'}}
                        <li>
                            <a href="{{pathFor 'admin'}}">
                                <i class="fa fa-dashboard fa-fw"></i> Administration
                            </a>
                        </li>
                    {{/if}}
                </ul>

                <ul class="nav navbar-nav navbar-right">

                    <!-- Register / Login / Username display-->
                    {{#if currentUser}}
                        <li>{{> userDropdown}}</li>
                    {{else}}
                    <li><a href="{{pathFor 'register'}}" class="register-link">Register</a></li>
                    <li><a href="{{pathFor 'login'}}">Login</a></li>
                    {{/if}}
                </ul>
            </div>
        </div>
    </nav>
</template>

<template name="userDropdown">
    <div class="btn-group">
        <a class="btn btn-default navbar-btn dropdown-toggle" data-toggle="dropdown" href="#"> <i class="fa fa-user fa-fw"></i> {{currentUser.username}}</a> 

        <a class="btn btn-default navbar-btn " data-toggle="dropdown" href="#">    
            <i class="fa fa-sort-asc"></i>
        </a>

        <ul class="dropdown-menu" role="menu">
            <li><a href="#" id="logout-link"><i class="fa fa-power-off fa-fw"></i> Logout</a></li>
        </ul>
    </div>
</template>

<template name="aceEditor">
    <div id="editor"></div>
</template>

<template name="footer">
</template>

<template name="notFound">
    Not Found!
</template>

<template name="loading">
    Loading...
</template>
